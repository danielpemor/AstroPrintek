---
import BaseLayout from '../layouts/BaseLayout.astro';

const contactInfo = [
  {
    icon: '📩',
    title: 'Email',
    content: 'sales@printeksupplies.com',
    link: 'mailto:sales@printeksupplies.com'
  },
  {
    icon: '📞',
    title: 'Teléfono México',
    content: '+52 656 705 7931',
    link: 'tel:+526567057931'
  },
  {
    icon: '📞',
    title: 'Teléfono USA',
    content: '+1 (915) 307 2805',
    link: 'tel:+19153072805'
  },
  {
    icon: '🕒',
    title: 'Horario',
    content: 'Lun - Vie: 9:00 - 18:00',
    link: '#'
  }
];

const locations = [
  {
    country: 'México',
    address: 'Manzanero 1918. Col. Sandra Lucía Cd. Juárez, Chih. 32530',
    icon: '🇲🇽'
  },
  {
    country: 'Estados Unidos',
    address: '11601 Pellicano Dr Suite D2 El Paso, TX 79936',
    icon: '🇺🇸'
  }
];

const services = [
  'Compras Industriales',
  'Equipos de TI',
  'Logística Internacional',
  'Importaciones',
  'Consultoría',
  'Otro'
];
---

<BaseLayout title="Contacto - Printek" description="Contáctanos para obtener las mejores soluciones industriales y de TI. Estamos aquí para ayudarte.">
  <!-- Hero Section -->
  <section class="bg-gradient-to-r from-industrial-900 to-primary-800 text-white py-20 mt-20">
    <div class="container mx-auto px-4 lg:px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-5xl md:text-6xl font-heading font-bold mb-6">
          Contáctanos
        </h1>
        <p class="text-xl text-industrial-100 leading-relaxed">
          Estamos listos para ayudarte con tus necesidades industriales y de TI. 
          Hablemos sobre cómo podemos optimizar tu operación.
        </p>
      </div>
    </div>
  </section>

  <!-- Contact Info Cards -->
  <section class="py-20 bg-gradient-to-br from-slate-100 via-gray-50 to-blue-50">
    <div class="container mx-auto px-4 lg:px-6">
      <div class="max-w-6xl mx-auto">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-heading font-bold text-slate-800 mb-6">
            Información de Contacto
          </h2>
          <p class="text-lg text-slate-600 max-w-3xl mx-auto">
            Múltiples formas de conectar contigo. Elige la que más te convenga.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
          {contactInfo.map((info) => (
            <div class="bg-white rounded-xl p-8 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-slate-200 hover:border-primary-300">
              <div class="text-5xl mb-4">{info.icon}</div>
              <h3 class="text-xl font-heading font-bold text-slate-800 mb-3">{info.title}</h3>
              <div class="text-slate-600">
                {info.link !== '#' ? (
                  <a href={info.link} class="hover:text-primary-600 transition-colors duration-300">
                    {info.content}
                  </a>
                ) : (
                  <span>{info.content}</span>
                )}
              </div>
            </div>
          ))}
        </div>

        <!-- Locations -->
        <div class="text-center mb-8">
          <h3 class="text-3xl font-heading font-bold text-slate-800 mb-6">
            Nuestras Ubicaciones
          </h3>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          {locations.map((location) => (
            <div class="bg-white rounded-xl p-8 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-slate-200 hover:border-primary-300">
              <div class="text-5xl mb-4">{location.icon}</div>
              <h4 class="text-xl font-heading font-bold text-slate-800 mb-3">{location.country}</h4>
              <p class="text-slate-600">{location.address}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Form Section -->
  <section class="py-20">
    <div class="container mx-auto px-4 lg:px-6">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-heading font-bold text-slate-800 mb-6">
            Solicita tu Cotización
          </h2>
          <p class="text-lg text-slate-600">
            Completa el formulario y nos pondremos en contacto contigo en menos de 24 horas con una cotización personalizada.
          </p>
        </div>

        <!-- Netlify Form -->
        <form 
          name="contact" 
          method="POST" 
          data-netlify="true" 
          data-netlify-honeypot="bot-field"
          class="bg-white rounded-2xl shadow-xl p-8 md:p-12 border border-slate-200"
        >
          <!-- Netlify form detection -->
          <input type="hidden" name="form-name" value="contact" />
          
          <!-- Honeypot field for spam protection -->
          <div class="hidden">
            <label>
              Don't fill this out if you're human: <input name="bot-field" />
            </label>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <!-- Nombre -->
            <div>
              <label for="nombre" class="block text-sm font-semibold text-slate-700 mb-2">
                Nombre Completo *
              </label>
              <input
                type="text"
                id="nombre"
                name="nombre"
                required
                class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300"
                placeholder="Tu nombre completo"
              />
            </div>

            <!-- Email -->
            <div>
              <label for="email" class="block text-sm font-semibold text-slate-700 mb-2">
                Email *
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300"
                placeholder="tu@email.com"
              />
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <!-- Teléfono -->
            <div>
              <label for="telefono" class="block text-sm font-semibold text-slate-700 mb-2">
                Teléfono
              </label>
              <input
                type="tel"
                id="telefono"
                name="telefono"
                class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300"
                placeholder="+52 777 123 4567"
              />
            </div>

            <!-- Empresa -->
            <div>
              <label for="empresa" class="block text-sm font-semibold text-slate-700 mb-2">
                Empresa *
              </label>
              <input
                type="text"
                id="empresa"
                name="empresa"
                required
                class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300"
                placeholder="Nombre de tu empresa"
              />
            </div>
          </div>

          <!-- Nueva sección para información de cotización -->
          <div class="border-t border-slate-200 pt-6 mb-6">
            <h3 class="text-lg font-semibold text-slate-800 mb-4">Información para Cotización</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
              <!-- Ubicación de la empresa -->
              <div>
                <label for="ubicacion" class="block text-sm font-semibold text-slate-700 mb-2">
                  Ubicación de tu Empresa *
                </label>
                <input
                  type="text"
                  id="ubicacion"
                  name="ubicacion"
                  required
                  class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300"
                  placeholder="Ciudad, Estado, País"
                />
              </div>

              <!-- Servicio de Interés -->
              <div>
                <label for="servicio" class="block text-sm font-semibold text-slate-700 mb-2">
                  Servicio de Interés *
                </label>
                <select
                  id="servicio"
                  name="servicio"
                  required
                  class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300"
                >
                  <option value="">Selecciona un servicio</option>
                  {services.map((service) => (
                    <option value={service}>{service}</option>
                  ))}
                </select>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
              <!-- Número de Producto -->
              <div>
                <label for="numeroProducto" class="block text-sm font-semibold text-slate-700 mb-2">
                  Número de Producto
                  <span class="text-slate-500 font-normal">(Opcional)</span>
                </label>
                <input
                  type="text"
                  id="numeroProducto"
                  name="numeroProducto"
                  class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300"
                  placeholder="Ej: HP-CF500A, DL380-GEN10"
                />
              </div>

              <!-- Marca y/o Modelo -->
              <div>
                <label for="marcaModelo" class="block text-sm font-semibold text-slate-700 mb-2">
                  Marca y/o Modelo
                  <span class="text-slate-500 font-normal">(Opcional)</span>
                </label>
                <input
                  type="text"
                  id="marcaModelo"
                  name="marcaModelo"
                  class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300"
                  placeholder="Ej: HP LaserJet Pro, Dell PowerEdge"
                />
              </div>
            </div>
          </div>

          <!-- Mensaje -->
          <div class="mb-8">
            <label for="mensaje" class="block text-sm font-semibold text-slate-700 mb-2">
              Descripción del Proyecto *
            </label>
            <textarea
              id="mensaje"
              name="mensaje"
              rows="5"
              required
              class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 resize-y"
              placeholder="Describe tu proyecto, necesidades específicas, cantidad de productos, fecha estimada de entrega, etc..."
            ></textarea>
          </div>

          <!-- Submit Button -->
          <div class="text-center">
            <button
              type="submit"
              class="bg-primary-600 hover:bg-primary-700 text-white px-8 py-4 rounded-lg font-semibold transition-all duration-300 inline-flex items-center justify-center min-w-48 hover:shadow-lg transform hover:-translate-y-1"
            >
              <span class="mr-2">📤</span>
              Solicitar Cotización
            </button>
          </div>

          <!-- Nota de privacidad -->
          <div class="mt-6 text-center text-sm text-slate-500">
            Al enviar este formulario, aceptas que procesemos tu información para responder a tu consulta y preparar tu cotización personalizada.
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-20 bg-gradient-to-br from-slate-100 via-gray-50 to-blue-50">
    <div class="container mx-auto px-4 lg:px-6">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-heading font-bold text-slate-800 mb-6">
            Preguntas Frecuentes
          </h2>
        </div>

        <div class="space-y-6">
          <div class="bg-white rounded-xl p-6 shadow-lg border border-slate-200">
            <h3 class="text-lg font-semibold text-slate-800 mb-3">
              ¿Cuál es el tiempo de respuesta para cotizaciones?
            </h3>
            <p class="text-slate-600">
              Nos comprometemos a responder todas las solicitudes de cotización en menos de 24 horas hábiles con precios competitivos y tiempos de entrega precisos.
            </p>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-lg border border-slate-200">
            <h3 class="text-lg font-semibold text-slate-800 mb-3">
              ¿Manejan envíos internacionales?
            </h3>
            <p class="text-slate-600">
              Sí, con oficinas en México y Estados Unidos, facilitamos envíos y logística internacional adaptándose a las regulaciones de cada país.
            </p>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-lg border border-slate-200">
            <h3 class="text-lg font-semibold text-slate-800 mb-3">
              ¿Trabajan con empresas de cualquier tamaño?
            </h3>
            <p class="text-slate-600">
              Sí, trabajamos con empresas desde pequeñas hasta corporaciones multinacionales, adaptando nuestros servicios y precios a cada necesidad y volumen.
            </p>
          </div>

          <div class="bg-white rounded-xl p-6 shadow-lg border border-slate-200">
            <h3 class="text-lg font-semibold text-slate-800 mb-3">
              ¿Ofrecen servicios de emergencia?
            </h3>
            <p class="text-slate-600">
              Contamos con servicios de emergencia y entregas express para situaciones críticas que requieren atención inmediata.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-20">
    <div class="container mx-auto px-4 lg:px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-4xl font-heading font-bold text-slate-800 mb-6">
          ¿Prefieres hablar directamente?
        </h2>
        <p class="text-xl text-slate-600 mb-8 leading-relaxed">
          Nuestro equipo está disponible para una consulta telefónica gratuita en México y Estados Unidos.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center mb-6">
          <a href="tel:+526567057931" class="bg-primary-600 hover:bg-primary-700 text-white px-8 py-4 rounded-lg font-semibold transition-all duration-300 inline-flex items-center justify-center hover:shadow-lg transform hover:-translate-y-1">
            <span class="mr-2">📞</span>
            Llamar México
          </a>
          <a href="tel:+19153072805" class="bg-primary-600 hover:bg-primary-700 text-white px-8 py-4 rounded-lg font-semibold transition-all duration-300 inline-flex items-center justify-center hover:shadow-lg transform hover:-translate-y-1">
            <span class="mr-2">📞</span>
            Llamar USA
          </a>
        </div>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="https://wa.me/526567057931" target="_blank" class="bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-lg font-semibold transition-all duration-300 inline-flex items-center justify-center hover:shadow-lg transform hover:-translate-y-1">
            <span class="mr-2">💬</span>
            WhatsApp México
          </a>
          <a href="https://wa.me/19153072805" target="_blank" class="bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-lg font-semibold transition-all duration-300 inline-flex items-center justify-center hover:shadow-lg transform hover:-translate-y-1">
            <span class="mr-2">💬</span>
            WhatsApp USA
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
// Manejo del formulario
document.addEventListener('DOMContentLoaded', function() {
  const form = document.querySelector('form[name="contact"]');
  
  if (form) {
    form.addEventListener('submit', function(e) {
      const submitButton = form.querySelector('button[type="submit"]');
      const originalText = submitButton.innerHTML;
      
      // Mostrar estado de carga
      submitButton.innerHTML = '<span class="mr-2">⏳</span>Enviando...';
      submitButton.disabled = true;
      
      // Netlify manejará el envío, pero podemos mostrar feedback visual
      setTimeout(() => {
        if (!submitButton.disabled) return; // Si ya se procesó, no hacer nada
        
        // Esto solo se ejecutará si hay algún error
        submitButton.innerHTML = originalText;
        submitButton.disabled = false;
      }, 10000); // 10 segundos timeout
    });
  }
  
  // Validación en tiempo real
  const requiredFields = form.querySelectorAll('[required]');
  requiredFields.forEach(field => {
    field.addEventListener('blur', function() {
      if (this.value.trim() === '' && this.hasAttribute('required')) {
        this.classList.add('border-red-400');
        this.classList.remove('border-slate-300');
      } else {
        this.classList.remove('border-red-400');
        this.classList.add('border-slate-300');
      }
    });
    
    field.addEventListener('input', function() {
      if (this.value.trim() !== '') {
        this.classList.remove('border-red-400');
        this.classList.add('border-slate-300');
      }
    });
  });

  // Formateo automático de teléfono
  const phoneField = document.getElementById('telefono');
  if (phoneField) {
    phoneField.addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      if (value.length > 0) {
        if (value.startsWith('1') && value.length === 11) {
          // Formato USA: +1 (915) 307 2805
          value = value.replace(/(\d{1})(\d{3})(\d{3})(\d{4})/, '+$1 ($2) $3 $4');
        } else if (value.startsWith('52') && value.length === 12) {
          // Formato México: +52 656 705 7931
          value = value.replace(/(\d{2})(\d{3})(\d{3})(\d{4})/, '+$1 $2 $3 $4');
        }
      }
      e.target.value = value;
    });
  }
});
</script>